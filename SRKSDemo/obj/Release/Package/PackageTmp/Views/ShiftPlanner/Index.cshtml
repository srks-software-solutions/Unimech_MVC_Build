@model SRKSDemo.ShiftPlannerModel
@{
    ViewBag.Title = "Shift Planner";


}
<div class="right_col" role="main">
    <div class="">

        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Shift Planner</h2>

                        <ul class="nav navbar-right panel_toolbox">
                            <li><button type="button" class="btn btn-default" data-toggle="modal" data-target="#create-plant" style="margin-top: 10px;"><i class="fa fa-plus-square" aria-hidden="true"></i>&nbsp;Add New</button></li>
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        @*<span style="color:red;"> @TempData["Error"]</span>*@
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div id="Error">
                            @if (TempData["Error"] != null)
                            {

                            }
                        </div>
                        <table id="datatable-fixed-header" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>Shift Planner Name</th>
                                    <th>Shift Planner Description</th>
                                    <th>Shift Method</th>
                                    <th>Plant</th>
                                    <th>Shop</th>
                                    <th>Cell</th>
                                    <th>Machine</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.ShiftPlannerList)
                                {
                                    <tr>
                                        <td>@Html.DisplayFor(modelItem => item.ShiftPlannerName)</td>
                                        <td>@Html.DisplayFor(modelItem => item.ShiftPlannerDesc)</td>
                                        @{
                                            var shiftmethodid = item.ShiftMethodID;
                                            using (SRKSDemo.Server_Model.i_facility_unimechEntities db = new SRKSDemo.Server_Model.i_facility_unimechEntities())
                                            {
                                                var shiftmethoddata = db.tblshiftmethods.Where(m => m.IsDeleted == 0 && m.ShiftMethodID == shiftmethodid).FirstOrDefault();
                                                if (shiftmethoddata != null)
                                                {
                                                    var shiftmethodname = shiftmethoddata.ShiftMethodName.ToString();

                                                    <td style="width: auto; text-align: center; font-family: Helvetica; font-size: 85%">
                                                        @shiftmethodname
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td style="width: auto; text-align: center; font-family: Helvetica; font-size: 85%">
                                                        -
                                                    </td>
                                                }
                                            }
                                        }
                                        <td>@Html.DisplayFor(modelItem => item.tblplant.PlantDisplayName)</td>
                                        <td>@Html.DisplayFor(modelItem => item.tblshop.ShopName)</td>
                                        <td>@Html.DisplayFor(modelItem => item.tblcell.CelldisplayName)</td>
                                        <td>@Html.DisplayFor(modelItem => item.tblmachinedetail.MachineDisplayName)</td>
                                        <td>@item.StartDate.ToString("yyyy-MM-dd")</td>
                                        <td>@item.EndDate.ToString("yyyy-MM-dd")</td>
                                        <td>
                                            <ul class="actionbtnn">
                                                @*new { enctype = "multipart/form-data" }*@

                                                <li class="actionbtn">@Html.ActionLink(" ", "Edit", "ShiftPlanner", new { @Id = item.ShiftPlannerID }, new { @id = item.ShiftPlannerID, @class = "btn btn-round btn-info fa fa-pencil fa_lg EditShiftPlanner" })</li>
                                                @*<a href="@Url.Action("Edit", "ShiftPlanner", new { id = item.MSPID })" id="@(@item.MSPID)" class="btn btn-round btn-info EditMailId" data-title="Edit" data-toggle="modal" data-target="#edit-plant"><i class="fa fa-pencil fa-lg" aria-hidden="true" data-placement="top" data-toggle="tooltip" title="Edit Shift Planner"></i></a>*@


                                                <!-- edit Modal Start -->

                                                <li class="actionbtn"><button class="btn btn-round btn-danger deleteItem" data-id="@item.ShiftPlannerID" style="margin-top:0px;" onclick="deleteTargetName('@item.ShiftPlannerName')" data-title="Edit" data-toggle="modal" data-target="#delete-plant"><i class="fa fa-trash fa-lg" aria-hidden="true" data-placement="top" data-toggle="tooltip" title="Delete Shift Planner detail"></i></button></li>

                                                <!-- Delete Modal Start -->
                                                <div class="modal fade" id="delete-plant" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="myModalLabel">
                                                    <div class="modal-dialog" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                                <h4 class="modal-title" id="myModalLabel"></h4>
                                                                <div class="x_panel">
                                                                    <div class="x_title">
                                                                        <h5> Shift Planner</h5>
                                                                    </div>
                                                                    <div class="x_content">
                                                                        <div class="alert alert-danger">
                                                                            <span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Detail?<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label class="alert-danger">Shift Planner Name:</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    @*@Html.ActionLink("Delete ShiftPlanner", "Delete", "ShiftPlanner", new { id = item.MSPID }, new { @class = "btn btn-danger" })*@
                                                                    <button type="button" class="btn btn-danger btnContinueDelete"><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
                                                                    <button type="button" class="btn btn-info" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- Delete Modal Finish -->

                                            </ul>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        @using (Html.BeginForm("Create", "ShiftPlanner", FormMethod.Post, new { @class = "form-horizontal bordered-row" }))
                        {
                            <!-- create Modal Start -->
                            <div class="modal fade" id="create-plant" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="myModalLabel">
                                <div class="modal-dialog modal-lg" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">

                                            <h4 class="modal-title" id="myModalLabel"></h4>
                                            <div class="x_panel">
                                                <div class="x_title">
                                                    <h5>Shift Planner</h5>
                                                </div>
                                                <div class="x_content">
                                                    <form class="form-horizontal form-label-left" novalidate>
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Planner Name</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.TextBoxFor(model => model.ShiftPlanner.ShiftPlannerName, new { @id = "ShiftPlannerName", @class = "form-control second", @name = "ShiftPlannerName", @placeholder = "Enter ShiftPlanner Name ", @required = "required" })
                                                                        @*<input type="text" class="form-control1" id="" placeholder="Shift Planner Name">*@
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Planner Description</label>
                                                                    <div class="col-sm-7">
                                                                        @*<input type="text" class="form-control1" id="" placeholder="Shift Planner Description">*@
                                                                        @Html.TextBoxFor(model => model.ShiftPlanner.ShiftPlannerDesc, new { @id = "ShiftPlannerDesc", @name = "ShiftPlannerDesc", @class = "form-control second", @placeholder = "Enter ShiftPlanner Description", @required = "required" })
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Method</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownList("ShiftMethod", null, "--Select ShiftMethod--", new { @id = "ShiftMethod", @class = "form-control", @name = "ShiftMethod", @required = "required", @style = "aria-expanded:false;", @value = ViewData["ShiftMethod"] })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Plant</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.PlantID, ViewBag.Plant as IEnumerable<SelectListItem>, "--Select Plant--", new { @id = "PlantID", @class = "form-control ", @name = "PlantID", @required = "required" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shop</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.ShopID, ViewBag.ShopID as IEnumerable<SelectListItem>, "--Select Shop--", new { @id = "ShopID", @class = "form-control ", @name = "ShopID", @required = "required" })

                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">CELl</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.CellID, ViewBag.CellID as IEnumerable<SelectListItem>, "--Select CELL--", new { @id = "MachineCategoryID", @class = "form-control", @name = "CellID", @required = "required" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Machine</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.MachineID, ViewBag.MachineID as IEnumerable<SelectListItem>, "--Select Machine--", new { @id = "MachineID", @class = "form-control ", @name = "MachineID", @required = "required" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Start Date</label>
                                                                    <div class="col-sm-7">
                                                                        <div class='form input-group date' id='myDatepicker2'>
                                                                            @*<input type='text' class="form-control" />*@
                                                                            @Html.TextBoxFor(model => model.ShiftPlanner.StartDate, new { @id = "SPStartDate", @name = "SPStartDate", @class = "form-control second", @placeholder = "Enter SPStartDate", @required = "required", @Value = DateTime.Now.Date })
                                                                            <span class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">End Date</label>
                                                                    <div class="col-sm-7">
                                                                        <div class='input-group date' id='myDatepicker1'>
                                                                            @*<input type='text' class="form-control" />*@
                                                                            @Html.TextBoxFor(model => model.ShiftPlanner.EndDate, new { @id = "SPEndDate", @name = "SPEndDate", @class = "form-control second", @placeholder = "Enter SPEndDate", @required = "required", @Value = DateTime.Now.Date })
                                                                            <span class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <input type="hidden" id="shiftOverrideConfirm" name="shiftOverrideConfirm" value="0" />
                                            <button type="submit" class="btn btn-info createSubmit"><i class="fa fa-floppy-o" aria-hidden="true">Save</i></button>
                                            <button type="submit" class="createSubmitMain" style="display:none"></button>
                                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-info btn-lg mybtn" data-toggle="modal" data-target="#myModal" style="display:none"></button>
                            // Shift Planner override Confirmation Modal
                            <div id="myModal" class="modal fade" role="dialog">
                                <div class="modal-dialog">

                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <h4 class="modal-title">Shift Planner</h4>
                                        </div>
                                        <div class="modal-body">
                                            <span style="color:red;font-weight:bold;">This Plan is in action!!!Do you want to Override?? </span>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default confirmmodalbtn" data-dismiss="modal">Yes</button>
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            @Html.HiddenFor(model => model.ShiftPlanner.ShiftPlannerID);
                            <!-- create Modal Finish -->
                        }


                        @using (Html.BeginForm("Edit", "ShiftPlanner", FormMethod.Post, new { @class = "form-horizontal bordered-row" }))
                        {
                            <div class="modal fade" id="edit-plant" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="myModalLabel">
                                <div class="modal-dialog modal-lg" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">

                                            <h4 class="modal-title" id="myModalLabel"></h4>
                                            <div class="x_panel">
                                                <div class="x_title">
                                                    <h5>Shift Planner</h5>
                                                </div>
                                                <div class="x_content">
                                                    <form class="form-horizontal form-label-left" novalidate>
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Planner Name</label>
                                                                    <div class="col-sm-7">
                                                                        <input type="hidden" id="EditshiftOverrideConfirm" name="EditshiftOverrideConfirm" value="0" />
                                                                        @Html.HiddenFor(model => model.ShiftPlanner.CreatedBy)
                                                                        @Html.HiddenFor(model => model.ShiftPlanner.CreatedOn)
                                                                        @Html.HiddenFor(model => model.ShiftPlanner.ShiftPlannerID, new { @id = "EditMSPID", @name = "EditMSPID", @class = "second", @placeholder = "Enter ShiftPlanner Name ", @required = "required" })
                                                                        @Html.TextBoxFor(model => model.ShiftPlanner.ShiftPlannerName, new { @id = "EditShiftPlannerName", @name = "ShiftPlannerName", @class = "form-control second", @placeholder = "Enter ShiftPlanner Name ", @required = "required" })
                                                                        @*<input type="text" class="form-control1" id="" placeholder="Shift Planner Name">*@
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Planner Description</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.TextBoxFor(model => model.ShiftPlanner.ShiftPlannerDesc, new { @id = "EditShiftPlannerDesc", @name = "ShiftPlannerDesc", @class = "form-control second", @placeholder = "Enter ShiftPlanner Description", @required = "required" })
                                                                        @*<input type="text" class="form-control1" id="" placeholder="Shift Planner Description">*@
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shift Method</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownList("ShiftMethod", null, "--Select ShiftMethod--", new { @id = "EditShiftMethod", @class = "form-control", @name = "ShiftMethod", @required = "required", @value = ViewData["ShiftMethod"] })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Plant</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.PlantID, ViewBag.Plant as IEnumerable<SelectListItem>, "--Select Plant--", new { @id = "EditPlantID", @class = "form-control stacked-label", @name = "PlantID", @required = "required" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Shop</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.ShopID, ViewBag.Shop as IEnumerable<SelectListItem>, "--Select Shop--", new { @id = "EditShopID", @class = "form-control stacked-label", @name = "ShopID" })

                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Cell</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.CellID, ViewBag.Cell as IEnumerable<SelectListItem>, "--Select Cell--", new { @id = "EditMachineCategory", @class = "form-control", @name = "CellID" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Machine</label>
                                                                    <div class="col-sm-7">
                                                                        @Html.DropDownListFor(model => model.ShiftPlanner.MachineID, ViewBag.WCID as IEnumerable<SelectListItem>, "--Select Machine--", new { @id = "EditMachineID", @class = "form-control stacked-label", @name = "MachineID" })

                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">Start Date</label>
                                                                    <div class="col-sm-7">
                                                                        <div class='input-group date' id='myDatepicker3'>
                                                                            @Html.TextBoxFor(model => model.ShiftPlanner.StartDate, new { @id = "EditStartDate", @name = "StartDate", @class = "form-control second fdate", @placeholder = "Enter StartDate", @required = "required" })
                                                                            @*<input type='text' class="form-control1" />*@
                                                                            <span class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row row-space">
                                                                    <label class="col-sm-5 control-label">End Date</label>
                                                                    <div class="col-sm-7">
                                                                        <div class='input-group date' id='myDatepicker4'>
                                                                            @Html.TextBoxFor(model => model.ShiftPlanner.EndDate, new { @id = "EditEndDate", @name = "EndDate", @class = "form-control second fdate", @placeholder = "Enter EndDate ", @required = "required" })
                                                                            @*<input type='text' class="form-control1" />*@
                                                                            <span class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <input type="submit" id="submitsrks" class="btn btn-info" style="display:none" />
                                            <input type="button" value="Update" id="submitsrkschild" class="btn btn-info" />
                                            @*<button type="button" class="btn btn-info"><i class="fa fa-floppy-o" aria-hidden="true"></i> Update</button>*@
                                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <button type="button" class="btn btn-info btn-lg Editmybtn" data-toggle="modal" data-target="#myModal2" style="display:none"></button>
                            // Shift Planner override Confirmation Modal
                            <div id="myModal2" class="modal fade" role="dialog">
                                <div class="modal-dialog">

                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <h4 class="modal-title">Shift Planner</h4>
                                        </div>
                                        <div class="modal-body">
                                            <span style="color:red;font-weight:bold;">This Plan is in action!!!Do you want to Override?? </span>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default Editconfirmmodalbtn" data-dismiss="modal">Yes</button>
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- edit Modal Finish -->
                        }


                        <li class="actionbtn"><button class="btn btn-round btn-info Planner1" style="display:none" data-title="Edit" data-toggle="modal" data-target="#edit-plant"><i class="fa fa-pencil fa-lg" aria-hidden="true" data-placement="top" data-toggle="tooltip" title="Edit Shift Planner detail"></i></button></li>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
@*<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">*@


<!-- jQuery -->
@*
    <script src="~/vendors/jquery/dist/jquery.min.js"></script>*@
<script src="~/js/jquery-2.1.4.min.js"></script>
<!-- FastClick -->
@*<script src="~/vendors/fastclick/lib/fastclick.js"></script>
    <script src="~/js/bootstrap.min.js"></script>*@
<!-- validator -->
<script src="~/vendors/validator/validator.js"></script>

<script src="~/vendors/chosen-select.js" type="text/javascript"></script>
<!-- bootstrap-daterangepicker -->
<script src="~/vendors/moment/min/moment.min.js"></script>
<script src="~/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap-datetimepicker -->
<script src="~/vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>


<!-- Datatables -->
<script type="text/javascript">
    $(function () {
        $('.chosen-select').chosen();
    });
</script>
<script>

    $('#myDatepicker2').datetimepicker({
        format: 'YYYY/MM/DD'
    });
</script>
<script>

    $('#myDatepicker1').datetimepicker({
        format: 'YYYY/MM/DD'
    });
</script>
<script>

    $('#myDatepicker3').datetimepicker({
        format: 'YYYY/MM/DD'
    });
</script>
<script>

    $('#myDatepicker4').datetimepicker({
        format: 'YYYY/MM/DD'
    });
</script>
<!-- Bootstrap Timepicker -->
<!--<link rel="stylesheet" type="text/css" href="~/~/assets/widgets/timepicker/timepicker.css">-->
<script type="text/javascript" src="~/vendors/timepicker/timepicker.js"></script>


<script type="text/javascript">
    /* Timepicker */

    $(function () {
        "use strict";
        $('.timepicker-example').timepicker();
    });

    $(document).ready(function () {
        $("[data-toggle=tooltip]").tooltip();
    });


    $(document).ready(function () {
        $('#datatable-responsive').DataTable();
    });
</script>

<script>
    $(function () {
        $("#dialog").dialog();
    });
</script>
<script>

    //Cascading
    $("#PlantID").on("change", function () {
        $("#ShopID").empty();
        $("#CellID").empty();
        $("#MachineID").empty();
        var selectedID = $("#PlantID option:selected").val();
        $.getJSON("/ShiftPlanner/GetShop", { PlantID: selectedID }, function (data) {
            $.each(data, function (index, item) {
                $("#ShopID").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
                //$("#CellID").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
            });
            $("#ShopID").prepend("<option value='' selected='selected'></option>");
            $("#MachineID").prepend("<option value='' selected='selected'></option>");
        });
    });

    $("#ShopID").on("change", function () {
        $("#MachineCategoryID").empty();
        $("#MachineID").empty();
        var selectedID = $("#ShopID option:selected").val();
        $.getJSON("/ShiftPlanner/GetCell", { ShopID: selectedID }, function (data) {
            $.each(data, function (index, item) {
                $("#MachineCategoryID").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
            });
            $("#MachineCategoryID").prepend("<option value='' selected='selected'></option>");
        });



    });

    $("#MachineCategoryID").on("change", function () {
        $("#MachineID").empty();
        var selectedID = $("#MachineCategoryID option:selected").val();
        $.getJSON("/ShiftPlanner/GetWC_Cell", { CellID: selectedID }, function (data) {
            $.each(data, function (index, item) {
                $("#MachineID").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
            });
            $("#MachineID").prepend("<option value='' selected='selected'></option>");

        });
    });
</script>


<script>
    $(".EditShiftPlanner").on("click", function (e) {
        $(".Planner1").click();
        e.preventDefault();
        var ShiftPId = $(this).attr("id");
        $.getJSON("/ShiftPlanner/GetShiftPlannerById", { Id: ShiftPId }, function (Data) {
            $("#EditMSPID").val(ShiftPId);
            $("#EditShiftPlannerName").val((Data.SPlannerName));
            $("#EditShiftPlannerDesc").val((Data.SPlannerDesc));
            $("#EditShiftMethod").val((Data.Sethod));
            $("#EditPlantID").val((Data.plantid));
            $("#EditShopID").val(Data.department);
            $("#EditMachineCategory").val(Data.machinecate);
            $("#EditStartDate").val((Data.startdate));
            $("#EditEndDate").val((Data.enddate));
            var PlantID = Data.plantid;
            $.ajaxSetup({ async: false });
            // var PlantID = $("#EditPlantID").val();
            $.getJSON("/ShiftPlanner/GetShop", { PlantID: PlantID }, function (data) {
                $("#EditShopID").empty();
                $("#EditShopID").append("<option value = ''> --Select Shop-- </option>");
                $.each(data, function (index, item) {
                    $("#EditShopID").append("<option value = '" + item.Value + "'>" + item.Text + "</option>");
                });

            });
            $.ajaxSetup({ async: true });
            $("#EditShopID").val(Data.department);

            var ShopID = Data.department;
            //var ShopID = ("#EditShopID").val();
            $.ajaxSetup({ async: false });
            $.getJSON("/ShiftPlanner/GetCell", { ShopID: ShopID }, function (data) {
                $("#EditMachineCategory").empty();
                $("#EditMachineCategory").append("<option value = ''> --Select Cell-- </option>");
                $.each(data, function (index, item) {
                    $("#EditMachineCategory").append("<option value = '" + item.Value + "'>" + item.Text + "</option>");
                });

            });
            $.ajaxSetup({ async: true });
            $("#EditMachineCategory").val(Data.machinecate);

            var CellID = Data.machinecate;
            //var CellID = $("#EditMachineCategory").val();
            $.ajaxSetup({ async: false });
            $.getJSON("/ShiftPlanner/GetWC_Cell", { CellID: CellID }, function (data) {
                $("#EditMachineID").empty();
                $("#EditMachineID").append("<option value = ''> --Select Machine-- </option>");
                $.each(data, function (index, item) {
                    $("#EditMachineID").append("<option value = '" + item.Value + "'>" + item.Text + "</option>");
                });

            });
            $.ajaxSetup({ async: true });
            $("#EditMachineID").val(Data.machineid);
        });

        return false;
    });

</script>

<script>
    //function getchangeplant1(value) {
    $("#EditPlantID").on("change", function () {
        var value = $("#EditPlantID").val();
        $.getJSON("/PmCheckList/FetchShop", { PID: value }, function (data) {
            $("#EditShopID").empty();
            $("#EditShopID").append("<option value=''> --Select Shop-- </option>");
            $.each(data, function (index, item) {
                $("#EditShopID").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
            });
        });
    });
</script>
<script>
    //function getchangeshop1(value) {
    $("#EditShopID").on("change", function () {
        var value = $("#EditShopID").val();
        $.getJSON("/PmCheckList/FetchCell", { SID: value }, function (data) {
            $("#EditMachineCategory").empty();
            $("#EditMachineCategory").append("<option value=''> --Select Cell-- </option>");
            $.each(data, function (index, item) {
                $("#EditMachineCategory").append("<option value='" + item.Value + "'>" + item.Text + "</option>");
            });
        });
    });
</script>
<script>
    //function getchangeshop1(value) {
    $("#EditMachineCategory").on("change", function () {
        var PID = $("#EditPlantID").val();
        var SID = $("#EditShopID").val();
        var CID = $("#EditMachineCategory").val();
        $.getJSON("/BottelNeckMachine/FetchMachine", { SID: SID, PID: PID, CID: CID }, function (data) {
            $("#EditMachineID").empty();
            $("#EditMachineID").append("<option value = ''> --Select Machine-- </option>");
            $.each(data, function (index, item) {
                $("#EditMachineID").append("<option value = '" + item.Value + "'>" + item.Text + "</option>");
            });
        });
    });
</script>

<script>

    function deleteTargetName(productvariant) {
        $(".deleteTargetName").empty();
        $(".deleteTargetName").html("Shift Planner Name: " +
            productvariant);
    }

    var item_to_delete;
    $(".deleteItem").click(function (e) {
        item_to_delete = $(this).data('id');
        // alert(item_to_delete);
    });
    $('.btnContinueDelete').click(function () {
        window.location = "/ShiftPlanner/Delete/" + "?id=" + item_to_delete;
    });

</script>
@*//This model window is from https://jqueryui.com/dialog/#modal-confirmation*@

<script type="text/javascript">
    $(document).ready(function () {
        $("#OpenDialog").click(function () {
            $("#dialog-confirm").dialog({ modal: true, height: 590, width: 1005 });
        });
    });
</script>
<script type="text/javascript">

    $(".confirmmodalbtn").on("click", function (e) {
        shiftOverrideConfirm
        $("#shiftOverrideConfirm").val(1);
        $(".createSubmitMain").click();
    });

</script>

<script>
    $(".createSubmit").on("click", function (e) {
        e.preventDefault();
        var plannername = $("#ShiftPlannerName").val();
        var PlantId = $("#PlantID").val();
        var ShopId = $("#ShopID").val();
        var CellID = $("#MachineCategoryID").val();
        var MachineID = $("#MachineID").val();
        var SPStartDate = $("#SPStartDate").val();
        var SPEndDate = $("#SPEndDate").val();
        if (plannername != "" && PlantId != "" && ShopId != "" && CellID != "" && MachineID != "" && SPStartDate != "" && SPEndDate != "") {
            $.getJSON("/ShiftPlanner/PlanOverLapChecking", { PlantID: PlantId, ShopID: ShopId, CellID: CellID, WorkCenterID: MachineID, startdatestring: SPStartDate, enddatestring: SPEndDate },
                function (data) {
                    if (data == "No") {
                        $(".createSubmitMain").click();
                    }
                    else {
                        $(".mybtn").click();
                    }
                });
        }
        else {
            alert("Please fill all the details before submission")
        }
        return false;
    });
</script>

<script type="text/javascript">
    $(".Editconfirmmodalbtn").on("click", function (e) {

        $("#EditshiftOverrideConfirm").val(1);
        // alert($("#shiftOverrideConfirm").val())
        $("#submitsrks").click();
    });
</script>

@*ShiftPlanner edit Confirmation*@
<script>
    $("#submitsrkschild").on("click", function (e) {
        e.preventDefault();
        var plannername = $("#EditShiftPlannerName").val();
        // alert(plannername)
        var PlantId = $("#EditPlantID").val();
        var ShopId = $("#EditShopID").val();
        var CellID = $("#EditMachineCategory").val();
        var MachineID = $("#EditMachineID").val();
        var SPStartDate = $("#EditStartDate").val();
        var SPEndDate = $("#EditEndDate").val();

        $.getJSON("/ShiftPlanner/PlanOverLapChecking", { PlantID: PlantId, ShopID: ShopId, CellID: CellID, WorkCenterID: MachineID, startdatestring: SPStartDate, enddatestring: SPEndDate }, function (data) {
            if (data == "No") {
                alert("Inside if")
                $("#submitsrks").click();
            }
            else {
                //  alert("Else I am in Jquery")
                $(".Editmybtn").click();
            }
        });
        return false;
    });
</script>

<!--Delete-->